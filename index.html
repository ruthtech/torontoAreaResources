<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Toronto Area Resources</title>
    <link rel="icon" type="image/png" href="./assets/images/cn-tower.png" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.5/css/bulma.min.css">
    <!-- <link rel="stylesheet" href="./assets/styles/debug.css"> -->
<!-- <script src="./login.js"></script> -->
<script src='https://api.mapbox.com/mapbox-gl-js/v1.4.1/mapbox-gl.js'></script>
<link href='https://api.mapbox.com/mapbox-gl-js/v1.4.1/mapbox-gl.css' rel='stylesheet' />
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js" type="text/javascript"></script>


    <script src='https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v4.2.0/mapbox-gl-geocoder.min.js'></script>
    <link rel='stylesheet'
        href='https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v4.2.0/mapbox-gl-geocoder.css'
        type='text/css' />
    <script src='https://npmcdn.com/@turf/turf/turf.min.js'></script>

    <link href="./indexGeo.css" rel="stylesheet" />
    <link rel="stylesheet" href="./assets/styles/main.css">
</head>

<body>

    <section class="hero has-background-light">
        <div class="center" id="hero-body">
            <figure class="image is-128x128">
                <img src="./assets/images/cn-tower.png" alt="cn-tower">
            </figure>
            <h1 id="title">Toronto Area Resources</h1>
        </div>
    </section>
    
    <!-- <section id="error-message">

        <article class="message is-danger">
            <div class="message-header">
                <p>Something wrong..</p>
            </div>
            <div class="message-body">
                There is no such a place like this in this area, <strong> modify the distance limit</strong> or <strong>entrer a valid address!</strong>
            </div>
        </article>

    </section> -->



    <section class="container" id="main-content">
        <div class="columns is-multiline">
            <!-- <div class="column" id="map"></div> -->
                <!-- <div class='sidebar'>
                    <div class='heading'>
                        <h1>Toronto Area Resources</h1>
                    </div>
                    <div id='listings' class='listings'></div>
                </div> -->
                <div id='map' class='map column'> </div>


            
            <div class="column is-one-quarter">
                <form class="form-horizontal has-background-light">
                    <fieldset>
                

                        <legend class="text-center title">Search</legend>
                

                        <div class="field">
                            <label class="label">Enter an address</label>
                            <div class="control">
                                <input id="searchinput-0" type="text" placeholder="256 College St"
                                    class="input is-rounded is-primary search-query">
                
                            </div>
                        </div>
                

                        <div class="field">
                            <label class="label">Distance limit</label>
                            <div class="control">
                                <div class="select is-primary">
                                    <select id="selectbasic-2">
                                        <option>1km</option>
                                        <option>5km</option>
                                        <option>10km</option>
                                        <option>25km</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                

                        <!-- <div class="field">
                            <label class="label">Choose a neighbourhood</label>
                            <div class="control has-icons-left">
                                <div class="select is-primary">
                                    <select id="selectbasic-1"  >
                                        <option>North York</option>
                                        <option>Downtown</option>
                                        <option>Rosedale</option>
                                    </select>
                                        <div class="icon is-small is-left">
                                            
                                        </div>
                                </div>
                            </div>
                        </div> -->
                

                        <!-- <div class="field">
                            <label class="label">Looking for a specific place?</label>
                            <div class="control">
                                <input id="textinput-2" type="text" placeholder="Tim Hortons" class="input is-primary ">
                
                            </div>
                        </div>
                

                        <div class="field">
                            <label class="label">Categories</label>
                            <div class="control">
                                <div class="select is-primary">
                                    <select id="selectbasic-0"  >
                                        <option>School</option>
                                        <option>Restaurant</option>
                                        <option>Fitness center</option>
                                        <option>Bank</option>
                                        <option>Mall</option>
                                        <option>Store</option>
                                    </select>
                                </div>
                            </div>
                        </div> -->
                    

                        <div class="field">
                            <div class="control text-center">
                                <button id="singlebutton-0" class="button is-primary" type="button" onclick="createMap()">Search</button>
                            </div>
                        </div>
                
                   </fieldset>
                </form>



                <section id="search-results"></section>

            </div>
        </div>
    </section>




<footer class="has-background-grey">
    <div class="content has-text-centered">
        <p>
            <i> Made with love by Ruth, Steven and Billy ❤️ </i>
        </p>
    </div>
</footer>

    
    <!-- <script>

        // if ($(window).width() > 767) {
        //         $('.mapboxgl-canvas').attr('position', 'unset');
        //     }
        
        $(document).ready(
            function () {
                if (!Login.isAPIKeySet()) {
                    // move to next page
                    window.location = "./login.html";
                }
            }
            );
        </script> -->
    
    <script src="./mapAPIKey.js"></script>
    <script src="./schoolLocatorGeo.js"></script>
    <script src="./indexGeo.js"></script>

    <script>
        createMap();

        fetchSchools(traverseJSON);
        fetchCentresAndLibraries(traverseJSON);

    // 	traverseJSON(centres, "communityCentre");
    // 	traverseJSON(schools, "school");
    </script>

</body>

</html>